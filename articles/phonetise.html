<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Tokenise IPA transcriptions • phonetisr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tokenise IPA transcriptions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phonetisr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/phonetise.html">Tokenise IPA transcriptions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/stefanocoretta/phonetisr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Tokenise IPA transcriptions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/stefanocoretta/phonetisr/blob/main/vignettes/phonetise.Rmd" class="external-link"><code>vignettes/phonetise.Rmd</code></a></small>
      <div class="d-none name"><code>phonetise.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="basic-usage">Basic usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/stefanocoretta/phonetisr" class="external-link">phonetisr</a></span><span class="op">)</span></span></code></pre></div>
<p>The main function of phonetisr is <code><a href="../reference/phonetise.html">phonetise()</a></code>. This
function takes a character vector with IPA transcriptions and splits
them into phones.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ipa</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pʰãkʰ"</span>, <span class="st">"tʰum̥"</span>, <span class="st">"ɛkʰɯ"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/phonetise.html">phonetise</a></span><span class="op">(</span><span class="va">ipa</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "p" "ʰ" "a" "̃"  "k" "ʰ"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "t" "ʰ" "u" "m" "̥" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "ɛ" "k" "ʰ" "ɯ"</span></span></code></pre></div>
<p>The default settings will tokenise each IPA symbol separately, rather
than each phone, because by default phonetisr has no concept of “phone”.
IPA diacritics are then tokenised separately. The user can set
<code>diacritics = TRUE</code> to automatically tokenise all diacritics
with the preceding symbol (will not work of course for diacritics that
are placed before the base symbol).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phonetise.html">phonetise</a></span><span class="op">(</span><span class="va">ipa</span>, diacritics <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "pʰ" "ã"  "kʰ"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "tʰ" "u"  "m̥" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "ɛ"  "kʰ" "ɯ"</span></span></code></pre></div>
<p>For the example words above, using <code>diacritics = TRUE</code>
suffices. But what if you want more control? You can use the
<code>multi</code> argument to specify phones that are made of multiple
characters.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ph</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pʰ"</span>, <span class="st">"tʰ"</span>, <span class="st">"kʰ"</span>, <span class="st">"ã"</span>, <span class="st">"m̥"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/phonetise.html">phonetise</a></span><span class="op">(</span><span class="va">ipa</span>, multi <span class="op">=</span> <span class="va">ph</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "pʰ" "ã"  "kʰ"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "tʰ" "u"  "m̥" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; [1] "ɛ"  "kʰ" "ɯ"</span></span></code></pre></div>
<p>In some cases you don’t want a list of tokenised phones, but a vector
where phones are separated by a specified character (like space, or a
dot). You can set <code>split = FALSE</code> and the default separator
(a space) will be used to separate phones in the resulting string. The
separator character can be specified with <code>sep</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phonetise.html">phonetise</a></span><span class="op">(</span><span class="va">ipa</span>, multi <span class="op">=</span> <span class="va">ph</span>, split <span class="op">=</span> <span class="cn">FALSE</span>, sep <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "pʰ.ã.kʰ" "tʰ.u.m̥"  "ɛ.kʰ.ɯ"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="using-tibbles">Using tibbles<a class="anchor" aria-label="anchor" href="#using-tibbles"></a>
</h2>
<p>A common use case of the <code><a href="../reference/phonetise.html">phonetise()</a></code> function is with
tibble columns that have IPA transcriptions. The phonetisr package comes
with <code>kl_swades</code>, a tibble with 195 Klingon words and their
IPA transcription.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Attaching core tidyverse packages</span> ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr    </span> 1.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr    </span> 2.1.5</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats  </span> 1.0.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr  </span> 1.5.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2  </span> 3.5.1     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble   </span> 3.2.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">lubridate</span> 1.9.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr    </span> 1.3.1</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr    </span> 1.0.4     </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Use the conflicted package (<span style="color: #0000BB; font-style: italic;">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"kl_swadesh"</span><span class="op">)</span></span>
<span><span class="va">kl_swadesh</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 195 × 4</span></span></span>
<span><span class="co">#&gt;       id gloss          translit ipa  </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 I              jIH      dʒɪx </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 you (singular) SoH      ʂox  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 he             ghaH     ɣɑx  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 we             maH      mɑx  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 you (plural)   tlhIH    tɬɪx </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 they           chaH     tʃɑx </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 this           -vam     -vɑm </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 that           -vetlh   -vɛtɬ</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 here           naDev    nɑɖɛv</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 there          pa'      pʰɑʔ </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 185 more rows</span></span></span></code></pre></div>
<p>Let’s phonetise the <code>ipa</code> column. We first want to define
multi-character phones.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_multi</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"pʰ"</span>, <span class="st">"tʰ"</span>, <span class="st">"qʰ"</span>,</span>
<span>  <span class="st">"tɬ"</span>, <span class="st">"tʃ"</span>, <span class="st">"qχ"</span>, </span>
<span>  <span class="st">"dʒ"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Then, we can use <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code> to create a new column
<code>phones</code> with phonetised transcriptions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_swadesh</span> <span class="op">&lt;-</span> <span class="va">kl_swadesh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    phones <span class="op">=</span> <span class="fu"><a href="../reference/phonetise.html">phonetise</a></span><span class="op">(</span><span class="va">ipa</span>, multi <span class="op">=</span> <span class="va">kl_multi</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> <span style="color: #0000BB;">The following non-IPA characters were found and removed: -</span></span></span>
<span><span class="co">#&gt; </span></span>
<span></span>
<span><span class="va">kl_swadesh</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 195 × 5</span></span></span>
<span><span class="co">#&gt;       id gloss          translit ipa   phones   </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 I              jIH      dʒɪx  <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 you (singular) SoH      ʂox   <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 he             ghaH     ɣɑx   <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 we             maH      mɑx   <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 you (plural)   tlhIH    tɬɪx  <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 they           chaH     tʃɑx  <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 this           -vam     -vɑm  <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 that           -vetlh   -vɛtɬ <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 here           naDev    nɑɖɛv <span style="color: #949494;">&lt;chr [5]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 there          pa'      pʰɑʔ  <span style="color: #949494;">&lt;chr [3]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 185 more rows</span></span></span></code></pre></div>
<p><code>phones</code> is a “list” column, so <code>kl_swadesh</code> is
“nested”: see the <a href="https://tidyr.tidyverse.org/articles/nest.html" class="external-link">Nested data</a>
vignette of tidyr.</p>
<p>A common operation is to count the number of occurrences of each
phone. We can easily do that by first “unnesting” the
<code>phones</code> column.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_unnest</span> <span class="op">&lt;-</span> <span class="va">kl_swadesh</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">phones</span><span class="op">)</span></span>
<span><span class="va">kl_unnest</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 651 × 5</span></span></span>
<span><span class="co">#&gt;       id gloss          translit ipa   phones</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 I              jIH      dʒɪx  dʒ    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     1 I              jIH      dʒɪx  ɪ     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     1 I              jIH      dʒɪx  x     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     2 you (singular) SoH      ʂox   ʂ     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     2 you (singular) SoH      ʂox   o     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     2 you (singular) SoH      ʂox   x     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     3 he             ghaH     ɣɑx   ɣ     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     3 he             ghaH     ɣɑx   ɑ     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     3 he             ghaH     ɣɑx   x     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>     4 we             maH      mɑx   m     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 641 more rows</span></span></span></code></pre></div>
<p>Then we can count each phone with <code><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_unnest</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">phones</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 26 × 2</span></span></span>
<span><span class="co">#&gt;    phones     n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> ɑ         65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> o         50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ʔ         40</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> ɪ         38</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> u         34</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> x         31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ɣ         30</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> ɛ         29</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> ʂ         28</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> m         25</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 16 more rows</span></span></span></code></pre></div>
<p>And also plot the counts.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_unnest</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">phones</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">phones</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span>, <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></span></code></pre></div>
<p><img src="phonetise_files/figure-html/kl-count-plot-1.png" width="480"></p>
</div>
<div class="section level2">
<h2 id="add-phonetic-features">Add phonetic features<a class="anchor" aria-label="anchor" href="#add-phonetic-features"></a>
</h2>
<p>The package comes with a function <code><a href="../reference/featurise.html">featurise()</a></code> which
takes a vector or list of phonetised words and returns a tibble with
counts and phonetic features of the phones.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_feat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/featurise.html">featurise</a></span><span class="op">(</span><span class="va">kl_swadesh</span><span class="op">$</span><span class="va">phones</span><span class="op">)</span></span>
<span><span class="va">kl_feat</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 26 × 17</span></span></span>
<span><span class="co">#&gt;    phone count base  unicode uni_name ipa_name phon_type type  height_ipa height</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> w         8 w     U+0077  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> j        10 j     U+006A  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ŋ        12 ŋ     U+014B  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> tɬ       14 t     U+0074  latin s… voicele… base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> r        15 r     U+0072  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> tʰ       16 t     U+0074  latin s… voicele… base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> v        17 v     U+0076  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> l        19 l     U+006C  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> pʰ       19 p     U+0070  latin s… voicele… base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> dʒ       20 d     U+0064  latin s… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 16 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: backness &lt;chr&gt;, rounding &lt;chr&gt;, voicing &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   place &lt;chr&gt;, manner &lt;chr&gt;, lateral &lt;lgl&gt;, sonorant &lt;lgl&gt;</span></span></span></code></pre></div>
<p>We can use the info for plotting.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">kl_feat</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">phone</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span>, <span class="va">count</span>, fill <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></span></code></pre></div>
<p><img src="phonetise_files/figure-html/kl-feat-plot-1.png" width="480"></p>
<p><code><a href="../reference/featurise.html">featurise()</a></code> uses the info stored in
<code>ipa_symbols</code>, which comes with the package. Note that the
phonetic features included are only based on the IPA tables: the package
is not aware of language-specific features.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ipa_symbols"</span><span class="op">)</span></span>
<span><span class="va">ipa_symbols</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 188 × 15</span></span></span>
<span><span class="co">#&gt;    IPA   unicode uni_name    ipa_name phon_type type  height_ipa height backness</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> a     U+0061  latin smal… open fr… base      vowel open       low    front   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> æ     U+00E6  latin smal… raised … base      vowel raised op… low_r… front   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> ɐ     U+0250  latin smal… lowered… base      vowel lowered    low_r… central </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> ɑ     U+0251  latin smal… open ba… base      vowel open       low    back    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> ɒ     U+0252  latin smal… open ba… base      vowel open       low    back    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> b     U+0062  latin smal… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> ʙ     U+0299  latin lett… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> ɓ     U+0253  latin smal… voiced … base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> c     U+0063  latin smal… voicele… base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> ç     U+00E7  latin smal… voicele… base      cons… <span style="color: #BB0000;">NA</span>         <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 178 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 6 more variables: rounding &lt;chr&gt;, voicing &lt;chr&gt;, place &lt;chr&gt;, manner &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   lateral &lt;lgl&gt;, sonorant &lt;lgl&gt;</span></span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stefano Coretta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
